# MyUrls - åŠŸèƒ½å¼ºå¤§çš„çŸ­é“¾æ¥æœåŠ¡

åŸºäº Cloudflare Pages Functions çš„ç°ä»£åŒ–çŸ­é“¾æ¥æœåŠ¡ï¼Œæ”¯æŒè®¿é—®æ¬¡æ•°é™åˆ¶ã€å¯†ç ä¿æŠ¤ã€è¿‡æœŸæ§åˆ¶ç­‰é«˜çº§åŠŸèƒ½ã€‚

> åŸºäº [CareyWang/MyUrls](https://github.com/CareyWang/MyUrls) é¡¹ç›®é‡æ„ï¼Œå¢åŠ äº†å¤§é‡æ–°åŠŸèƒ½å’Œç°ä»£åŒ–ç•Œé¢ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ”— çŸ­é“¾æ¥ç”Ÿæˆ
- å°†é•¿é“¾æ¥è½¬æ¢ä¸ºç®€çŸ­æ˜“åˆ†äº«çš„é“¾æ¥
- æ”¯æŒéšæœºç”Ÿæˆå’Œè‡ªå®šä¹‰åˆ«å
- æ™ºèƒ½URLéªŒè¯å’Œæ¸…ç†

### ğŸ¯ è®¿é—®æ¬¡æ•°é™åˆ¶ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
- è®¾ç½®é“¾æ¥çš„æœ€å¤§è®¿é—®æ¬¡æ•°
- è¾¾åˆ°é™åˆ¶åè‡ªåŠ¨å¤±æ•ˆ
- æ”¯æŒæ— é™åˆ¶è®¿é—®æ¨¡å¼

### ğŸ”’ å¯†ç ä¿æŠ¤
- ä¸ºæ•æ„Ÿé“¾æ¥è®¾ç½®è®¿é—®å¯†ç 
- å®‰å…¨çš„å¯†ç å“ˆå¸Œå­˜å‚¨
- ä¼˜é›…çš„å¯†ç éªŒè¯ç•Œé¢

### â° è¿‡æœŸæ§åˆ¶
- è®¾ç½®é“¾æ¥çš„æœ‰æ•ˆæœŸ
- è‡ªåŠ¨å¤±æ•ˆè¿‡æœŸé“¾æ¥
- æ”¯æŒæ°¸ä¸è¿‡æœŸè®¾ç½®

### ğŸ“Š è®¿é—®ç»Ÿè®¡
- å®æ—¶ç»Ÿè®¡é“¾æ¥è®¿é—®æ¬¡æ•°
- è¯¦ç»†çš„è®¿é—®å†å²è®°å½•
- æ”¯æŒ Analytics Engine æ•°æ®æ”¶é›†
- è®¿é—®æ¥æºã€è®¾å¤‡ç±»å‹ç»Ÿè®¡

### ğŸ” é«˜çº§æœç´¢
- æŒ‰çŸ­ç½‘å€ã€æºç½‘å€æœç´¢
- æŒ‰æ ‡é¢˜å’Œå¤‡æ³¨æœç´¢
- å®æ—¶æœç´¢ç»“æœ

### ğŸ› ï¸ é“¾æ¥ç®¡ç†
- ç¼–è¾‘é“¾æ¥ä¿¡æ¯
- æ‰¹é‡åˆ é™¤æ“ä½œ
- å¯ç”¨/ç¦ç”¨é“¾æ¥
- æ•°æ®å¯¼å‡ºåŠŸèƒ½

### ğŸ” å®‰å…¨è®¤è¯
- Cookie åŸºç¡€çš„ç®¡ç†åå°ç™»å½•
- å¯†ç ä» CF ç¯å¢ƒå˜é‡è¯»å–
- ä¼šè¯ç®¡ç†å’Œè‡ªåŠ¨è¿‡æœŸ

### ğŸ¨ ç°ä»£åŒ–ç•Œé¢
- åŸºäº Tailwind CSS çš„ç¾è§‚è®¾è®¡
- å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ç»ç’ƒæ‹Ÿæ€æ•ˆæœ
- æµç•…çš„åŠ¨ç”»è¿‡æ¸¡

### ğŸŒ å¤šç§è®¿é—®æ¨¡å¼
- **é‡å®šå‘æ¨¡å¼**ï¼šç›´æ¥è·³è½¬ï¼ˆé»˜è®¤ï¼‰
- **ä»£ç†æ¨¡å¼**ï¼šä»£ç†è®¿é—®ç›®æ ‡ç½‘ç«™
- **å¯†ç æ¨¡å¼**ï¼šéœ€è¦å¯†ç éªŒè¯
- **è­¦å‘Šæ¨¡å¼**ï¼šæ˜¾ç¤ºè­¦å‘Šé¡µé¢åè·³è½¬

## æŠ€æœ¯æ ˆ

### å‰ç«¯

- **Vue.js 2.6.11** - æ¸è¿›å¼ JavaScript æ¡†æ¶
- **Element UI 2.13.0** - åŸºäº Vue çš„ç»„ä»¶åº“
- **jQuery 3.6.0** - HTTP å®¢æˆ·ç«¯
- **Vue-clipboard2 0.3.1** - å‰ªè´´æ¿åŠŸèƒ½

### åç«¯

- **Cloudflare Pages** - é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡
- **Cloudflare Workers** - Serverless è®¡ç®—å¹³å°
- **Cloudflare KV** - é”®å€¼å­˜å‚¨æ•°æ®åº“

## éƒ¨ç½²æ–¹æ³• (Pages å’Œ Workers ä»»é€‰ä¸€ä¸ª)

 ### Cloudflare Pages
  
  1. Fork æœ¬ä»“åº“
  2. åœ¨ Cloudflare Pages ä¸­åˆ›å»ºæ–°é¡¹ç›®
  
  - è¿æ¥åˆ°æ‚¨çš„ GitHub ä»“åº“
  - æ„å»ºè®¾ç½®ï¼š
    - æ„å»ºå‘½ä»¤ï¼šä¸éœ€è¦
    - è¾“å‡ºç›®å½•ï¼š/
  
  3. åˆ›å»º KV å‘½åç©ºé—´
  
  ![1738067979664](https://github.com/user-attachments/assets/ae96e948-0148-4bd6-bb19-4a0a53b6f229)
  ![e16e83362b97668fba0d9ec1e100585](https://github.com/user-attachments/assets/2f9ddec3-6ad0-4a11-a1b7-d2c5287ecfb6)

  - åœ¨ Cloudflare æ§åˆ¶å°åˆ›å»º KV å‘½åç©ºé—´ï¼Œå‘½åä¸º "`LINKS`"
  - åœ¨ Pages é¡¹ç›®è®¾ç½®ä¸­ç»‘å®š KVï¼š
    - å˜é‡åï¼š`LINKS`
    - KV å‘½åç©ºé—´ï¼šé€‰æ‹©åˆšåˆ›å»ºçš„å‘½åç©ºé—´
  ![fe25d11f7ca80cd4ea987d069c81f3f](https://github.com/user-attachments/assets/b15b2b50-b8c5-4ce1-a789-184c022709a6)

  4. éƒ¨ç½²å è¯·é‡æ–°éƒ¨ç½²å å³å¯ä½¿ç”¨ Pageså¿…é¡»é‡é‡è¯•éƒ¨ç½² å¦åˆ™æ— æ³•ä½¿ç”¨KVç©ºé—´
 ![49f211b9addcf51a324e8ec6e0f0965](https://github.com/user-attachments/assets/63b64cfa-9d2d-4a64-a2f5-8f1403f6d0d6)

 ### Cloudflare Workers
  
  1. æ‰“å¼€ [_workers.js](https://github.com/kiko923/MyUrls-Workers/blob/main/_workers.js) æ–‡ä»¶
  2. å¤åˆ¶å…¨éƒ¨å†…å®¹
  3. åˆ›å»º Cloudflare Workers ç‚¹å‡» ç¼–è¾‘ä»£ç  ç²˜è´´è‡³ä»£ç æ¡†å†… åˆ›å»º KV å‘½åç©ºé—´
  
  ![1738067979664](https://github.com/user-attachments/assets/f15ed931-5428-4e0c-97eb-0059f106f40f)
  ![e16e83362b97668fba0d9ec1e100585](https://github.com/user-attachments/assets/2f9ddec3-6ad0-4a11-a1b7-d2c5287ecfb6)
  - åœ¨ Cloudflare æ§åˆ¶å°åˆ›å»º KV å‘½åç©ºé—´ï¼Œå‘½åä¸º "`LINKS`"
  - åœ¨ Workers é¡¹ç›®è®¾ç½®ä¸­ç»‘å®š KVï¼š
    - å˜é‡åï¼š`LINKS`
    - KV å‘½åç©ºé—´ï¼šé€‰æ‹©åˆšåˆ›å»ºçš„å‘½åç©ºé—´
  ![fe25d11f7ca80cd4ea987d069c81f3f](https://github.com/user-attachments/assets/b15b2b50-b8c5-4ce1-a789-184c022709a6)
  4. å®Œæˆéƒ¨ç½²åå³å¯ä½¿ç”¨

## API è¯´æ˜

### åˆ›å»ºçŸ­é“¾æ¥

- ç«¯ç‚¹ï¼š`POST /short`
- è¯·æ±‚ä½“ï¼š
  ```json
  {
    "longUrl": "Base64ç¼–ç çš„é•¿é“¾æ¥",
    "shortKey": "å¯é€‰çš„è‡ªå®šä¹‰åç¼€"
  }
  ```


