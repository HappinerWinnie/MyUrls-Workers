# Cloudflare Pages 配置文件
name = "myurls-workers"
compatibility_date = "2025-07-31"

# Pages 项目配置
pages_build_output_dir = "."

# KV 命名空间绑定（将在 Pages 控制台中配置）
# 注意：Pages 项目的 KV 绑定需要在 Pages 控制台中手动配置
# 这里的配置主要用于 wrangler dev 命令

# 环境变量（将在 Pages 控制台中配置）
# ADMIN_PASSWORD - 管理员密码
# REQUIRE_AUTH - 是否需要认证（true/false）

# 本地开发配置
[env.local]
compatibility_date = "2024-01-01"

# 本地开发 KV 命名空间绑定
[[env.local.kv_namespaces]]
binding = "LINKS"
preview_id = "your-preview-kv-namespace-id"  # 本地预览 KV 命名空间 ID

# 本地开发环境变量
[env.local.vars]
ADMIN_PASSWORD = "admin123"  # 本地开发用的简单密码
REQUIRE_AUTH = "true"

# 开发环境配置（用于 wrangler dev）
[env.development]
compatibility_date = "2024-01-01"

[[env.development.kv_namespaces]]
binding = "LINKS"
preview_id = "your-dev-kv-namespace-id"  # 开发环境的 KV 命名空间 ID

[env.development.vars]
ADMIN_PASSWORD = "dev123"
REQUIRE_AUTH = "true"

# Analytics Engine 绑定（可选）
# 如果需要详细的访问统计，可以启用 Analytics Engine
# [[analytics_engine_datasets]]
# binding = "ANALYTICS"
# dataset = "myurls-analytics"
